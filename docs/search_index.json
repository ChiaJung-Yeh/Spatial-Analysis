[["basic-quantitative-geography.html", "Chapter 6 Basic Quantitative Geography 6.1 Point Patterns Analysis 6.2 Spatial Autocorrelation Analysis", " Chapter 6 Basic Quantitative Geography From chapter 2 to 4, we have learned how to do make maps and do spatial operations, they are all fundamental and vital contents regarding spatial analysis. The operations we have learned could help us identify what the space “looks like”; however, up to now, we have no idea about “what space tells.” Hence, this chapter would introduce the basic theory and application of quantitative geography. We would learn the point patterns and spatial auto correlation, which are relatively simple in this field, and can also apply to the analysis on transportation issue. Note that there are much more to explore other than these two elements, if interested, please refer to the textbook Spatial Data Analysis - An Introduction For Gis Users. In this chapter, we require a preliminary knowledge on statistics, especially the concept of hypothetical test. 6.1 Point Patterns Analysis 6.1.1 Basic measures Two commonly used summary measures of point pattern analysis are the mean center and the standard distance. The mean center of a point pattern implies the central tendency of the whole points. It is simply the mean of the x and y coordinates: \\[\\bar{\\bf{x}}=(\\frac{\\sum_{i=1}^n \\ {x_i}}{n}, \\quad \\frac{\\sum_{i=1}^n \\ {y_i}}{n})\\] In the equation above, the bold letter \\(\\bar{\\bf{x}}\\) represents a vector of X and Y coordinates, and the number of points is \\(n\\). Besides mean, the other basic statistic is “standard deviation,” that is, the standard distance in the spatial analysis. This standard distance can be interpreted as the dispersion around the mean center: \\[{d_s}=\\sqrt{\\frac{\\sum_{i=1}^n \\ {{(x_i-\\mu_x)}^2+{(y_i-\\mu_y)}^2}}{n}}\\] As for the center analysis, we may come up with the function st_centroid. However, the function can only use on the center of polygon, it can not retrieve the center of multiple points. An easiest way is to do the summary of X and Y coordinates of the whole points. Take Taipei YouBike for instance. Data needed has been downloaded previously. You placed the file in the same directory as the R script file. Click here to re-download the file if it is lost. First, we need to convert X and Y coordinates by using st_coordinates(), and then, just calculate the mean and standard deviation on the data converted. # import the shapefile taipei_youbike=read_sf(&quot;./data/taipei_youbike/taipei_youbike.shp&quot;) # retrieve the coordinated of the points taipei_youbike_coor=st_coordinates(taipei_youbike) # calculate mean and standard deviation apply(taipei_youbike_coor, 2, FUN=mean) ## X Y ## 304679.5 2771747.9 apply(taipei_youbike_coor, 2, FUN=var)^0.5 ## X Y ## 3143.041 3905.884 From the results above, we can know that the mean of X is 304679.5, while the mean of Y is 2771747.9. Also the standard deviation of X and Y are 3143.041 and 3905.884 respectively. Thus, the standard distance would be \\(\\sqrt{(3143.041^2+3905.884^2)}=5013.45\\) meters. Figure below shows the center and standard distance of Taipei YouBike. There is another package called aspace that can calculate the center and standard distance directly. But very unfortunately, this package has been removed from CRAN recently. Thus, please download the zip file here, and place it into the same directory as your R script file. The installation code from the local is as follows. install.packages(&quot;devtools&quot;) devtools::install_local(&quot;./aspace-master.zip&quot;) library(aspace) Now, let’s again use YouBike data to retrieve its center and standard distance by function mean_centre() and calc_sdd provided by package aspace. youbike_center=mean_centre(points=taipei_youbike_coor) ## id CENTRE.x CENTRE.y ## 1 1 304679.5 2771748 youbike_sdd=calc_sdd(points=taipei_youbike_coor) ## $id ## [1] 1 ## ## $calccentre ## [1] TRUE ## ## $weighted ## [1] FALSE ## ## $CENTRE.x ## [1] 304679.5 ## ## $CENTRE.y ## [1] 2771748 ## ## $SDD.radius ## [1] 5016.196 ## ## $SDD.area ## [1] 79049460 We can find that the result from two packages are approximately the same. Note that $SDD.radius represents the standard distance, and it causes only 3 meters difference from what we calculate above. In addition, there is a function called CF() that can identify the central feature within a set of point locations. That is, the center of the points must be one of the points. youbike_center_CF=CF(points=data.frame(taipei_youbike_coor)) ## id CF.x CF.y ## 1 1 304864.8 2770973 # use left_join() to find out what the station is left_join(youbike_center_CF, cbind(taipei_youbike, st_coordinates(taipei_youbike)), by=c(&quot;CF.x&quot;=&quot;X&quot;, &quot;CF.y&quot;=&quot;Y&quot;))%&gt;% select(StatnNm, CF.x, CF.y) ## StatnNm CF.x CF.y ## 1 YouBike1.0_復興市民路口 304864.8 2770973 village=read_sf(&quot;./data/taipei_map/taipei_village_map.shp&quot;) village_center=st_centroid(village) village_center_coor=st_coordinates(village_center) village_center_pd=mean_centre(points=village_center_coor, weighted=T, weights=as.numeric(village$PP/st_area(village))) ## id CENTRE.x CENTRE.y ## 1 1 304523.4 2771349 vil_sdd=calc_sdd(points=village_center_coor, weighted=T, weights=as.numeric(village$PP/st_area(village))) ## $id ## [1] 1 ## ## $calccentre ## [1] TRUE ## ## $weighted ## [1] TRUE ## ## $CENTRE.x ## [1] 304523.4 ## ## $CENTRE.y ## [1] 2771349 ## ## $SDD.radius ## [1] 5043.43 ## ## $SDD.area ## [1] 79910134 6.2 Spatial Autocorrelation Analysis "]]
